<div class="config-container">
  <header class="config-header">
    <div class="logo">
      <span class="material-icons">settings</span>
      <h1>Configurações</h1>
    </div>
    <div class="avatar">
      <img src="https://via.placeholder.com/40" alt="User">
    </div>
  </header>

  <section class="profile-section">
    <h2 class="section-title">Configurações do Perfil</h2>
    <p class="subtitle">
      Gerencie suas informações pessoais e como você aparece no Marketmeet
    </p>

    <div class="profile-card">
      <div class="profile-header">
        <div class="profile-photo">
          <img src="https://via.placeholder.com/70" alt="Foto do perfil">
        </div>
        <div class="profile-info">
          <h3>{{fullName}}</h3>
          <p>{{'@' + username}}</p>
        </div>
        <button class="photo-btn" (click)="onPhotoChange()">
          <span class="material-icons">photo_camera</span>
        </button>
      </div>

      <form [formGroup]="profileForm" class="profile-form" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="fullName">Nome completo</label>
          <input id="fullName" 
                 type="text" 
                 formControlName="fullName"
                 [class.invalid]="fullNameControl?.invalid && fullNameControl?.touched">
          <div class="error-message" *ngIf="fullNameControl?.touched && fullNameErrors">
            {{ fullNameErrors }}
          </div>
        </div>

        <div class="form-group">
          <label for="username">Nome de usuário</label>
          <input id="username" 
                 type="text" 
                 formControlName="username"
                 [class.invalid]="usernameControl?.invalid && usernameControl?.touched">
          <div class="error-message" *ngIf="usernameControl?.touched && usernameErrors">
            {{ usernameErrors }}
          </div>
        </div>

        <div class="form-group">
          <label for="bio">Bio</label>
          <textarea id="bio" 
                    rows="3" 
                    formControlName="bio"
                    [class.invalid]="bioControl?.invalid && bioControl?.touched">
          </textarea>
          <div class="error-message" *ngIf="bioControl?.touched && bioErrors">
            {{ bioErrors }}
          </div>
          <small class="char-count" [class.limit-reached]="bioControl?.value?.length >= 250">
            {{ bioControl?.value?.length || 0 }}/250
          </small>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" 
                 type="email" 
                 formControlName="email"
                 [class.invalid]="emailControl?.invalid && emailControl?.touched">
          <div class="error-message" *ngIf="emailControl?.touched && emailErrors">
            {{ emailErrors }}
          </div>
        </div>

        <div class="form-group">
          <label for="phone">Telefone</label>
          <input id="phone" 
                 type="tel" 
                 formControlName="phone" 
                 (input)="onPhoneInput($event)" 
                 maxlength="20" 
                 placeholder="+55 11 99999-9999"
                 [class.invalid]="phoneControl?.invalid && phoneControl?.touched">
          <div class="error-message" *ngIf="phoneControl?.touched && phoneErrors">
            {{ phoneErrors }}
          </div>
        </div>

        <button type="submit" class="save-btn" [disabled]="!profileForm.valid">
          Salvar alterações
        </button>
      </form>
    </div>
  </section>
</div>
